<script setup lang="ts">
import { ref, defineEmits } from 'vue'

// 1Ô∏è‚É£ Definimos el evento personalizado "accionRealizada"
const emit = defineEmits(['accionRealizada'])

// 2Ô∏è‚É£ Creamos el contador reactivo
const contador = ref(0)

// 3Ô∏è‚É£ Una sola funci√≥n para manejar todas las acciones
const manejarAccion = (accion: string) => {
  if (accion === 'incrementar') contador.value++
  else if (accion === 'decrementar' && contador.value > 0) contador.value--
  else if (accion === 'reiniciar') contador.value = 0

  // 4Ô∏è‚É£ Emitimos el evento con la acci√≥n y el valor actual del contador
  emit('accionRealizada', {
    tipo: accion,
    valor: contador.value,
    fecha: new Date().toLocaleTimeString()
  })
}
</script>

<template>
  <div class="home">
    <h1>üßÆ Contador Vue 3</h1>
    <p>Valor actual: {{ contador }}</p>

    <div class="botones">
      <button @click="manejarAccion('incrementar')">‚ûï Incrementar</button>
      <button @click="manejarAccion('decrementar')">‚ûñ Decrementar</button>
      <button @click="manejarAccion('reiniciar')">üîÅ Reiniciar</button>
    </div>
  </div>
</template>

<style scoped>
.home {
  text-align: center;
  margin-top: 2rem;
}
.botones {
  margin-top: 1rem;
}
button {
  margin: 0.5rem;
  padding: 0.6rem 1.2rem;
  border: none;
  border-radius: 8px;
  background-color: #42b883;
  color: white;
  font-weight: bold;
  cursor: pointer;
}
button:hover {
  background-color: #2f9e6e;
}
</style>
